<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veille Strat√©gique Afrique</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900">
    <div class="max-w-5xl mx-auto p-6">
        <header class="mb-10 text-center">
            <h1 class="text-4xl font-extrabold text-blue-900">üåç Veille Afrique OSINT</h1>
            <p class="text-gray-600 mt-2">Mises √† jour quotidiennes automatiques</p>
            <input type="text" id="search" placeholder="Filtrer par pays ou mot-cl√©..." 
                   class="mt-6 p-3 w-full max-w-md border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500">
        </header>

        <div id="news-container" class="grid md:grid-cols-2 gap-6">
            </div>
    </div>

    <script>
        let allArticles = [];

        async function loadData() {
            try {
                const res = await fetch('data.json');
                allArticles = await res.json();
                displayArticles(allArticles);
            } catch (e) {
                document.getElementById('news-container').innerHTML = "<p>Donn√©es en cours de g√©n√©ration...</p>";
            }
        }

        function displayArticles(articles) {
            const container = document.getElementById('news-container');
            container.innerHTML = articles.map(art => `
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition">
                    <span class="text-xs font-bold text-orange-600 uppercase">${art.source}</span>
                    <h2 class="text-xl font-bold mt-2 mb-3 text-gray-800">${art.titre}</h2>
                    <p class="text-gray-600 text-sm mb-4">${art.resume}</p>
                    <div class="flex justify-between items-center mt-auto">
                        <span class="text-xs text-gray-400">${art.date}</span>
                        <a href="${art.lien}" target="_blank" class="text-blue-600 font-semibold hover:underline">Lire la suite ‚Üí</a>
                    </div>
                </div>
            `).join('');
        }

        document.getElementById('search').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = allArticles.filter(a => a.titre.toLowerCase().includes(term) || a.resume.toLowerCase().includes(term));
            displayArticles(filtered);
        });

        loadData();
    </script>
</body>
</html>
